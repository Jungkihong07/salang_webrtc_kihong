# coturn 설정 파일
# TURN/STUN 서버 설정

# 포트 설정
listening-port=3478
tls-listening-port=5349

# 외부 IP 설정 (Docker 환경에서는 자동 감지)
external-ip=auto-detect

# 릴레이 포트 범위
min-port=49152
max-port=49200

# 인증 설정
user=salang:salang123
realm=salang.local

# 보안 설정
no-multicast-peers
no-cli
no-tlsv1
no-tlsv1_1

# 로그 설정
log-file=stdout
verbose

# TURN/STUN 서버 모두 활성화
# (stun-only와 turn-enabled는 동시 사용 불가하므로 둘 다 제거)

# 인증 방식
use-auth-secret
static-auth-secret=salang-secret-key

# 네트워크 설정
no-dtls
no-tls

# 보안 정책 - 프라이빗 IP 대역 차단
denied-peer-ip=0.0.0.0-0.255.255.255
denied-peer-ip=10.0.0.0-10.255.255.255
denied-peer-ip=172.16.0.0-172.31.255.255
denied-peer-ip=192.168.0.0-192.168.255.255

# 허용된 피어 IP (로컬 개발용)
allowed-peer-ip=127.0.0.1
allowed-peer-ip=0.0.0.0-255.255.255.255

# 프로세스 설정
proc-user=root
proc-group=root
